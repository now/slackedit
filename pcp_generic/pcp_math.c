/*****************************************************************
 *                          FILE HEADER                          *
 *****************************************************************
 * Project    : pcp_generic
 *
 * File       : pcp_math.c
 * Created    : 07/05/00
 * Owner      : pcppopper
 * Revised on : 07/05/00
 * Comments   : parts are from glib
 *              
 *              
 *              
 *****************************************************************/

#include "pcp_includes.h"
#include "pcp_definitions.h"

/****************************************************************
 * Type Definitions
 ****************************************************************/

/****************************************************************
 * Function Definitions
 ****************************************************************/

/****************************************************************
 * Global Variables
 ****************************************************************/

static const int anPrimes[] =
{
  11,
  19,
  37,
  73,
  109,
  163,
  251,
  367,
  557,
  823,
  1237,
  1861,
  2777,
  4177,
  6247,
  9371,
  14057,
  21089,
  31627,
  47431,
  71143,
  106721,
  160073,
  240101,
  360163,
  540217,
  810343,
  1215497,
  1823231,
  2734867,
  4102283,
  6153409,
  9230113,
  13845163,
};

static const int cPrimes = DIMOF(anPrimes);

/****************************************************************
 * Function Implementations
 ****************************************************************/

UINT Math_ClosestPrime(int nNumber)
{
    int i;

    for (i = 0; i < cPrimes; i++)
    {
        if (anPrimes[i] > nNumber)
            return (anPrimes[i]);
    }

    return (anPrimes[cPrimes - 1]);
}
